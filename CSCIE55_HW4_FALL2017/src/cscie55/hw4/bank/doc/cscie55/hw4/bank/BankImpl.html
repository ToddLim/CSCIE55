<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_144) on Fri Oct 20 16:10:59 CDT 2017 -->
<title>BankImpl</title>
<meta name="date" content="2017-10-20">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BankImpl";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BankImpl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../cscie55/hw4/bank/Bank.html" title="interface in cscie55.hw4.bank"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../cscie55/hw4/bank/DuplicateAccountException.html" title="class in cscie55.hw4.bank"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?cscie55/hw4/bank/BankImpl.html" target="_top">Frames</a></li>
<li><a href="BankImpl.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">cscie55.hw4.bank</div>
<h2 title="Class BankImpl" class="title">Class BankImpl</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>cscie55.hw4.bank.BankImpl</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../cscie55/hw4/bank/Bank.html" title="interface in cscie55.hw4.bank">Bank</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">BankImpl</span>
extends java.lang.Object
implements <a href="../../../cscie55/hw4/bank/Bank.html" title="interface in cscie55.hw4.bank">Bank</a></pre>
<div class="block">IMPLEMENTATION
 CLASS: BANKIMPL

 Copy Bank into your project and then define a class implementing this interface, named BankImpl. Note that there are
 three methods doing transfers between accounts:

 -transferWithoutLocking just calls withdraw on one account, and deposit on the other, without doing any
  synchronization. In other words, your implementation of BankImpl.transferWithoutLocking should not use the
  synchronized keyword at all. This is completely wrong, but will give you some idea of what happens when
  synchronization is missing.
 -transferLockingBank does the transfer while synchronizing on the Bank object. This means that only one thread can
  do a transfer at any given moment. While this approach does not provide any concurrency, it should be correct.
 -transferLockingAccounts does the transfer, locking just the two affected Accounts. Your implementation should use
  the synchronized keyword twice, once on each Account. This should provide for greater concurrency, because threads
  not touching the two Accounts will not be blocked. Think very carefully about how to lock the two Accounts.

 The supplied test code (cscie55.hw4.Tester) will call these methods to try different locking strategies.

 addAccount adds an Account to the Bank. No two Accounts should have the same id. If an Account is added with a
 duplicate id, then addAccount must throw DuplicateAccountException.

 You can assume that the methods addAccount, totalBalances and numberOfAccounts do not require synchronization.

 Source: https://courses.dce.harvard.edu/~cscie55/hw4Fall2017/hw4Fall2017.html
 Last Accessed: 19 October 2017 @ 12:15 CST</div>
<dl>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>1.0.0.0</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Todd Lim</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../cscie55/hw4/bank/BankImpl.html#BankImpl--">BankImpl</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../cscie55/hw4/bank/BankImpl.html#addAccount-cscie55.hw4.bank.Account-">addAccount</a></span>(<a href="../../../cscie55/hw4/bank/Account.html" title="interface in cscie55.hw4.bank">Account</a>&nbsp;account)</code>
<div class="block">METHOD: ADDACCOUNT

 -handles exceptions for duplicate accounts
 -adds account to hash map via id, if account does not already exist</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../cscie55/hw4/bank/BankImpl.html#numberOfAccounts--">numberOfAccounts</a></span>()</code>
<div class="block">METHOD: NUMBEROFACCOUNTS</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../cscie55/hw4/bank/BankImpl.html#totalBalances--">totalBalances</a></span>()</code>
<div class="block">METHOD: TOTALBALANCES</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../cscie55/hw4/bank/BankImpl.html#transferLockingAccounts-int-int-long-">transferLockingAccounts</a></span>(int&nbsp;fromId,
                       int&nbsp;toId,
                       long&nbsp;amount)</code>
<div class="block">METHOD: TRANSFERLOCKINGACCOUNTS

 -synchronizes the fromAccount and toAccount to execute transaction for withdraw and deposit method calls
 -provides concurrency</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../cscie55/hw4/bank/BankImpl.html#transferLockingBank-int-int-long-">transferLockingBank</a></span>(int&nbsp;fromId,
                   int&nbsp;toId,
                   long&nbsp;amount)</code>
<div class="block">METHOD: TRANSFERLOCKINGBANK

 -synchronizes entire bank object for withdraw and deposit method calls
 -does not provide concurrency</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../cscie55/hw4/bank/BankImpl.html#transferWithoutLocking-int-int-long-">transferWithoutLocking</a></span>(int&nbsp;fromId,
                      int&nbsp;toId,
                      long&nbsp;amount)</code>
<div class="block">METHOD: TRANSFERWITHOUTLOCKING

 -does not synchronize for withdraw and deposit method calls
 -uses separate threads instead</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="BankImpl--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BankImpl</h4>
<pre>public&nbsp;BankImpl()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="addAccount-cscie55.hw4.bank.Account-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addAccount</h4>
<pre>public&nbsp;void&nbsp;addAccount(<a href="../../../cscie55/hw4/bank/Account.html" title="interface in cscie55.hw4.bank">Account</a>&nbsp;account)
                throws <a href="../../../cscie55/hw4/bank/DuplicateAccountException.html" title="class in cscie55.hw4.bank">DuplicateAccountException</a></pre>
<div class="block">METHOD: ADDACCOUNT

 -handles exceptions for duplicate accounts
 -adds account to hash map via id, if account does not already exist</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../cscie55/hw4/bank/Bank.html#addAccount-cscie55.hw4.bank.Account-">addAccount</a></code>&nbsp;in interface&nbsp;<code><a href="../../../cscie55/hw4/bank/Bank.html" title="interface in cscie55.hw4.bank">Bank</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>account</code> - - instance of an Account object stored inside the hash map</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../cscie55/hw4/bank/DuplicateAccountException.html" title="class in cscie55.hw4.bank">DuplicateAccountException</a></code> - - throws when account being added already exists</dd>
</dl>
</li>
</ul>
<a name="transferWithoutLocking-int-int-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transferWithoutLocking</h4>
<pre>public&nbsp;void&nbsp;transferWithoutLocking(int&nbsp;fromId,
                                   int&nbsp;toId,
                                   long&nbsp;amount)
                            throws <a href="../../../cscie55/hw4/bank/InsufficientFundsException.html" title="class in cscie55.hw4.bank">InsufficientFundsException</a></pre>
<div class="block">METHOD: TRANSFERWITHOUTLOCKING

 -does not synchronize for withdraw and deposit method calls
 -uses separate threads instead</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../cscie55/hw4/bank/Bank.html#transferWithoutLocking-int-int-long-">transferWithoutLocking</a></code>&nbsp;in interface&nbsp;<code><a href="../../../cscie55/hw4/bank/Bank.html" title="interface in cscie55.hw4.bank">Bank</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fromId</code> - - account id for source of transfer</dd>
<dd><code>toId</code> - - account id for destination of transfer</dd>
<dd><code>amount</code> - - value that is being passed via the transfer method</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../cscie55/hw4/bank/InsufficientFundsException.html" title="class in cscie55.hw4.bank">InsufficientFundsException</a></code> - - throws when attempt to withdraw x exceeds y from account</dd>
</dl>
</li>
</ul>
<a name="transferLockingBank-int-int-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transferLockingBank</h4>
<pre>public&nbsp;void&nbsp;transferLockingBank(int&nbsp;fromId,
                                int&nbsp;toId,
                                long&nbsp;amount)
                         throws <a href="../../../cscie55/hw4/bank/InsufficientFundsException.html" title="class in cscie55.hw4.bank">InsufficientFundsException</a></pre>
<div class="block">METHOD: TRANSFERLOCKINGBANK

 -synchronizes entire bank object for withdraw and deposit method calls
 -does not provide concurrency</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../cscie55/hw4/bank/Bank.html#transferLockingBank-int-int-long-">transferLockingBank</a></code>&nbsp;in interface&nbsp;<code><a href="../../../cscie55/hw4/bank/Bank.html" title="interface in cscie55.hw4.bank">Bank</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fromId</code> - - account id for source of transfer</dd>
<dd><code>toId</code> - - account id for destination of transfer</dd>
<dd><code>amount</code> - - value that is being passed via the transfer method</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../cscie55/hw4/bank/InsufficientFundsException.html" title="class in cscie55.hw4.bank">InsufficientFundsException</a></code> - - throws when attempt to withdraw x exceeds y from account</dd>
</dl>
</li>
</ul>
<a name="transferLockingAccounts-int-int-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transferLockingAccounts</h4>
<pre>public&nbsp;void&nbsp;transferLockingAccounts(int&nbsp;fromId,
                                    int&nbsp;toId,
                                    long&nbsp;amount)
                             throws <a href="../../../cscie55/hw4/bank/InsufficientFundsException.html" title="class in cscie55.hw4.bank">InsufficientFundsException</a></pre>
<div class="block">METHOD: TRANSFERLOCKINGACCOUNTS

 -synchronizes the fromAccount and toAccount to execute transaction for withdraw and deposit method calls
 -provides concurrency</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../cscie55/hw4/bank/Bank.html#transferLockingAccounts-int-int-long-">transferLockingAccounts</a></code>&nbsp;in interface&nbsp;<code><a href="../../../cscie55/hw4/bank/Bank.html" title="interface in cscie55.hw4.bank">Bank</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fromId</code> - - account id for source of transfer</dd>
<dd><code>toId</code> - - account id for destination of transfer</dd>
<dd><code>amount</code> - - value that is being passed via the transfer method</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../cscie55/hw4/bank/InsufficientFundsException.html" title="class in cscie55.hw4.bank">InsufficientFundsException</a></code> - - throws when attempt to withdraw x exceeds y from account</dd>
</dl>
</li>
</ul>
<a name="totalBalances--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>totalBalances</h4>
<pre>public&nbsp;long&nbsp;totalBalances()</pre>
<div class="block">METHOD: TOTALBALANCES</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../cscie55/hw4/bank/Bank.html#totalBalances--">totalBalances</a></code>&nbsp;in interface&nbsp;<code><a href="../../../cscie55/hw4/bank/Bank.html" title="interface in cscie55.hw4.bank">Bank</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>total - returns total, or sum, of balances from several accounts</dd>
</dl>
</li>
</ul>
<a name="numberOfAccounts--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>numberOfAccounts</h4>
<pre>public&nbsp;int&nbsp;numberOfAccounts()</pre>
<div class="block">METHOD: NUMBEROFACCOUNTS</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../cscie55/hw4/bank/Bank.html#numberOfAccounts--">numberOfAccounts</a></code>&nbsp;in interface&nbsp;<code><a href="../../../cscie55/hw4/bank/Bank.html" title="interface in cscie55.hw4.bank">Bank</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>existingAccounts.keySet().size() - returns the size, or number, of existingAccounts for a unique id</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BankImpl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../cscie55/hw4/bank/Bank.html" title="interface in cscie55.hw4.bank"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../cscie55/hw4/bank/DuplicateAccountException.html" title="class in cscie55.hw4.bank"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?cscie55/hw4/bank/BankImpl.html" target="_top">Frames</a></li>
<li><a href="BankImpl.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
